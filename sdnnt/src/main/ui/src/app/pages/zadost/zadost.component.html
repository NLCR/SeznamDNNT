<div class="app-container">  
  <ng-container *ngIf="zadost">
    <div fxLayout="row" fxLayoutGap="32px" fxLayoutAlign="start center">
      <div fxFlex>
        {{ 'desc.num_found' | translate }}: <strong>{{ numFound }}</strong>
      </div>
      <div>
        <app-paginator [numFound]="numFound"></app-paginator>
      </div>
    </div>
    <div class="app-results-wrapper">
      <mat-card>
        <div fxLayout="row" fxLayoutGap="32px" fxLayoutAlign="start center">
          <div fxFlex>
            <strong>{{ 'desc.prehled_zadosti' | translate }}</strong>
            <ng-container *ngIf="zadost.datum_zadani">
              <span class="app-pipe"></span>
              <span class="app-metadata">
                <ng-container *ngIf="zadost.datum_zadani">{{ zadost.datum_zadani }}<span class="app-pipe"></span></ng-container>
                <ng-container *ngIf="zadost.user">{{ zadost.user }}<span class="app-pipe"></span></ng-container>
                <ng-container *ngIf="zadost.state">
                  <mat-icon class="material-icons-outlined" [class]="zadost.state" [matTooltip]="'state.' + zadost.state | translate" matTooltip="above">
                    <ng-container *ngIf="zadost.state === 'open'">lock_open</ng-container>
                    <ng-container *ngIf="zadost.state === 'waiting'">lock_clock</ng-container>
                    <ng-container *ngIf="zadost.state === 'processed'">lock</ng-container>
                  </mat-icon><span class="app-pipe"></span>
                </ng-container>
                <ng-container *ngIf="zadost.navrh">{{ zadost.navrh }}<span class="app-pipe"></span></ng-container>
              </span>
            </ng-container>
          </div>
          <div>
            <mat-slide-toggle *ngIf="state.user.role === 'kurator'" [(ngModel)]="hideProcessed">{{ 'desc.skryt_zpracovane' | translate }}</mat-slide-toggle>
            <!-- <button *ngIf="zadost.state === 'waiting' && state.user.role === 'kurator'" mat-icon-button [title]="'mark_as_processed' | translate" (click)="process()"><mat-icon>done</mat-icon></button> -->
          </div>
        </div>
      </mat-card>
      <ng-container *ngFor="let doc of docs">
        <app-result-item *ngIf="!hideProcessed || !doc.isProcessed" [doc]="doc" [inZadost]="true" [zadost]="zadost" (removeFromZadostEvent)="removeDoc($event)"></app-result-item>
      </ng-container>
    </div>
    <div class="app-mt-4">
      <app-paginator [numFound]="numFound"></app-paginator>
    </div>
  </ng-container>
</div>

