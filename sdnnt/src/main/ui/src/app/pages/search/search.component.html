<div class="app-container">
  <div fxLayout="row" fxLayoutGap="32px" class="app-search-wrapper">
    <div class="app-left app-fx-facets">
      <app-facets *ngIf="facets" [facet_fields]="facets" [stats]="searchResponse.stats.stats_fields"></app-facets>
    </div>
    <div fxFlex class="app-right app-fx-results">
      <div fxLayout="row wrap" fxLayoutGap="32px" fxLayoutAlign="start center" class="app-toolbar">
        <div fxFlex class="app-left">
          {{ 'desc.num_found' | translate }}: <strong>{{ numFound }}</strong>
        </div>
        <div class="app-right">
          <app-paginator [numFound]="numFound"  [showSort]="true"></app-paginator>
        </div>
      </div>
      <div class="app-results-wrapper" [ngClass]="state.logged ? 'app-role-' + state.user.role : null">
        <mat-card *ngIf="this.state.user">
          <div fxLayout="row" fxLayoutGap="32px" fxLayoutAlign="start center">
            <div fxFlex>
              <mat-checkbox *ngIf="state.user && state.user.role !== 'user'" class="app-mr-4" (change)="viewFullCatalog()" [(ngModel)]="state.fullCatalog">{{ 'desc.zobrazit_dokumenty_ktere_nejsou_zarazeny_na_seznamu' | translate }}</mat-checkbox>
              <mat-checkbox [(ngModel)]="state.withNotification" (change)="setNotis()">{{ 'desc.zobrazit_zaznamy_s_notifikaci' | translate}}</mat-checkbox>
            </div>
            <div>
              <button mat-stroked-button *ngIf="(state.user && state.user.role == 'user' || state.user.role == 'knihovna') && hromadnaZadostEnabled()" (click)="openBulkProposal()">
                <mat-icon class="material-icons-outlined app-mr-1">check</mat-icon>{{ 'desc.hromadny_navrh' | translate }}
              </button>
            </div>
          </div>
        </mat-card>
        <app-result-item *ngFor="let doc of docs" [doc]="doc"></app-result-item>
      </div>
      <div class="app-mt-4">
        <app-paginator [numFound]="numFound" [showSort]="true"></app-paginator>
      </div>
    </div>
  </div>
</div>